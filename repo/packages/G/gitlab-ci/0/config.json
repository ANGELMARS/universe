{
  "type": "object",
  "properties": {
    "service": {
      "description": "GitLab CI runner service properties",
      "type": "object",
      "properties": {
        "name": {
          "description": "The name of this DC/OS service.",
          "type": "string",
          "default": "gitlab-ci"
        },
        "cpus": {
          "description": "CPU shares to allocate to each instance of the GitLab CI runner.",
          "type": "number",
          "default": 1.0,
          "minimum": 0.1
        },
        "mem": {
          "description": "Memory to allocate to each instance of the GitLab CI runner.",
          "type": "number",
          "default": 2048.0,
          "minimum": 2048.0
        },
        "instances": {
          "description": "Number of instances of the GitLab CI runner.",
          "type": "integer",
          "default": 1,
          "minimum": 1
        }
      },
      "required": [
        "name",
        "cpus",
        "mem",
        "instances"
      ]
    },
    "gitlab": {
      "description": "GitLab specific properties for the GitLab CI runner.",
      "type": "object",
      "properties": {
        "service": {
          "description": "Configuration properties that allow this GitLab CI runner to communicate with the GitLab service itself.",
          "type": "object",
          "properties": {
            "name": {
              "description": "The service name used when installing the GitLab service.",
              "type": "string",
              "default": "gitlab"
            },
            "registration-token": {
              "description": "The registration token to be used when registering this runner with the GitLab service. You can get this token in GitLab -> Admin Area -> Overview -> Runners.",
              "type": "string"
            }
          },
          "required": [
            "name",
            "registration-token"
          ]
        },
        "runner": {
          "description": "Configuration properties for this GitLab CI runner.",
          "type": "object",
          "properties": {
            "executor": {
              "description": "The default executor to use for this GitLab CI runner.",
              "type": "string",
              "default": "docker"
            },
            "concurrent-builds": {
              "description": "Number of builds each GitLab CI runner should execute concurrently.",
              "type": "integer",
              "default": 1
            }
          },
          "required": [
            "executor",
            "concurrent-builds"
          ]
        }
      },
      "required": [
        "service",
        "runner"
      ]
    }
  },
  "required": [
    "service",
    "gitlab"
  ]
}